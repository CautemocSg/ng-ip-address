!function(){"use strict";angular.module("ng-ip-address",[]).directive("ngIpAddress",function(){return{restrict:"A",require:"?ngModel",link:function(e,i,n,r){if(r){var t=require("ipaddr.js"),h=new RegExp("^0","g"),c=new RegExp("^\\.","g"),s=new RegExp("\\.\\.+","g"),d=0,u=!1;i.bind("keydown",function(e){17!==e.which&&91!==e.which||(u=!0)}),i.bind("keyup",function(e){17!==e.which&&91!==e.which||(u=!1)}),i.bind("keypress",function(e){(e.which<46&&0!==e.which&&8!==e.which&&13!==e.which||47===e.which||e.which>57&&(!u||99!==e.which&&118!==e.which&&120!==e.which))&&e.preventDefault()}),r.$parsers.push(function(e){if(!e)return r.$setValidity("ipAddress",!0),e;d=i[0].selectionStart;var n=(e=(e=e.replace(c,"")).replace(s,".")).split("."),u=n.length;u>4&&(n.length=4,u=4);for(var a=0;a<u;a++){var l=n[a];l.length>1&&(l=l.replace(h,"").substring(0,3)),n[a]=l}return e=n.join("."),r.$setValidity("ipAddress",t.isValid(e)),r.$setViewValue(e),r.$render(),i[0].setSelectionRange(d,d),e})}}}})}();